# Тестовое задание

Приложение работает по адресу http://localhost:8080/user. \
Заметки по выполненному заданию расположены в файле [notes.md](notes.md).

## Содержание

1. [Part 1](#part-1)
2. [Part 2](#part-2)
3. [Part 3](#part-3)

## Part 1

1) С помощью Oracle VM создать виртуальную машину с Ubuntu. Настроить два сетевых адаптера: nat и сетевой мост.

2) Развернуть на виртуальной машине TIG стек (Telegraf + InfluxDB + Grafana). Подключить в Grafana дашборд под Linux (использовать готовый шаблон с официального сайта).

3) Развернуть Telegraf на хосте и отправлять метрики в виртуальную машину. В InfluxDB создать отдельную базу данных под эти метрики. Подключить в Grafana дашборд под Windows (использовать готовый шаблон с официального сайта).

4) Проверить работу Grafana с хоста. Открыть на хосте в браузере Grafana, развернутую на виртуальной машине.

## Part 2

1) Написать заглушку на java с использованием **Spring** и **Maven**. Заглушка реализует RESTapi с двумя методами **GET** и **POST**.

2) GET выдаёт статичный json (можно использовать объект String, главное формат json).

```json
{
    "login": "Login1",
    "status": "ok"
}
```

3) POST принимает json с двумя параметрами login и password.

```json
{
    "login": "...",
    "password": ".."
}
```
и возвращает json с login, password и текущей датой

```json
{
    "login": "...",
    "password": "..",
    "date": "yyyy-MM-dd HH:mm:ss"
}
```

4) Реализовать время отклика методов GEG и POST в заглушке 1-2 секунды.

5) Реализовать скрипт в JMeter, который отправляет запросы в заглушку. Провести тест поиска максимума.

## Part 3

1) Добавить обработку исключений, если в POST передаются не те данные, то выкидывать 400 ошибку (реализовать при помощи аннотации `@Valid`). Запушить изменения в git.

2) Развернуть заглушку на виртуальной машине (клонировать свой гит репозиторий на виртуалку, собрать jar через консоль при помощи maven, запустить jar и проверить работу при помощи Postman и JMeter с хоста).

3) Прикрутить к заглушке jolokia agent (не добавлением maven зависимости, а именно запуск javaagent вместе с заглушкой).

4) Настроить Telegraf под jolokia и добавить дашборд JVM метрик !jolokia в grafana с официального сайта (там же можно найти необходимые настройки config файла Telegraf).